<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>C Code Runner & AI Assistant</title>
  <link rel="stylesheet" href="chat.css" />
  <!-- Monaco Editor CDN -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs/loader.min.js"></script>
</head>
<body>
  <div class="header">
    Online C compiler, visual debugger, and AI tutor
  </div>

  <div class="container">
    <!-- 왼쪽: 코드 + 실행 결과 -->
    <section class="left-pane">
      <div class="title-row">
        <h3>Write C code</h3>
        <!-- 나중에 JS로 핸들러 연결하세요 (onclick 제거) -->
        <button id="runBtn" class="btn">실행</button>
      </div>

      <div id="editor" class="editor-area"></div>

      <div class="result-box">
        <div class="result-title">Execution Result</div>
        <div id="execResult" class="result-output">
          실행 결과가 여기에 출력됩니다.
        </div>
      </div>
    </section>

    <!-- 오른쪽: AI 챗봇 (UI만 남김) -->
    <section class="right-pane">
      <h3>AI Assistant</h3>
      <div id="chatWindow" class="chat-window"></div>

      <div class="chat-input-row">
        <textarea id="chatInput" placeholder="코드나 힌트에 대해 질문해보세요."></textarea>
        <button id="chatSendBtn" class="btn">보내기</button>
      </div>
    </section>
  </div>

  <!-- 최소 JS: 에디터 초기화만 -->
  <script>
    let editor;
    require.config({
      paths: {
        vs: "https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.44.0/min/vs",
      },
    });
    require(["vs/editor/editor.main"], function () {
      editor = monaco.editor.create(document.getElementById("editor"), {
        value: `#include <stdio.h>

int main() {
    printf("Hello world");
    return 0;
}
`,
        language: "c",
        theme: "vs-dark",
        automaticLayout: true,
        fontSize: 15,
        minimap: { enabled: false },
      });
    });

    // 이후 연결용으로만 노출
    window.getCode = () => (editor ? editor.getValue() : "");
  </script>
</body>
</html>
